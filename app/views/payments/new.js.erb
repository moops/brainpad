$('#modal-dialog').html("<%= escape_javascript(render(partial: 'form')) %>").modal('show');

var paymentOnCalendar = $('#payment-on').flatpickr({ allowInput: true, defaultDate: new Date() });
$('#modal-dialog').on('blur', '#payment_payment_on', function() {
  window.setTimeout(function() { paymentOnCalendar.close(); }, 250);
});

var untilCalendar = $('#payment-until').flatpickr({ allowInput: true });
$('#modal-dialog').on('blur', '#payment_until', function() {
  window.setTimeout(function() { untilCalendar.close(); }, 250);
});
